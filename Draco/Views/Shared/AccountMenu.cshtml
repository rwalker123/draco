@model long

@{
    // load sitemap for accountType
	long accountType = DataAccess.Accounts.GetAccountTypeFromAccountId(Model);
    IEnumerable<SportsManager.Models.Helpers.MenuHelper.MenuItem> menuNodes = SportsManager.Models.Helpers.MenuHelper.GetAccountTypeMenu(accountType, Model);
}

@if (menuNodes.Any())
{
    foreach (SportsManager.Models.Helpers.MenuHelper.MenuItem node in menuNodes)
    {
        if (node.SubMenuItems.Any())
        {
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">@node.Description <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li><a href='@node.Url'>@node.Title</a></li>

                    @foreach (var subNode in node.SubMenuItems)
                    {
                        <li><a href='@subNode.Url'>@subNode.Title</a></li>
                    }
                </ul>            
            </li>
        }
        else
        { 
	        <li><a href='@node.Url'>@node.Title</a></li>
        }
    }
}